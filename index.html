<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DefandaBot Showcase</title>
    <link rel="icon" type="image/jpeg" href="dev.jpg">
    <link rel="stylesheet" href="styles.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
    <nav>
        <a href="index.html" class="nav-link">Home</a>
        <a href="report.html" class="nav-link">Report Issue</a>
        <a href="https://discord.gg/3VgNFu98vM" target="_blank" class="discord-btn">Join Our Discord</a>
        <a id="login-button" class="discord-btn">Login</a> <!-- Login Button -->
    </nav>

    <!-- Creator Profile Section -->
    <div class="creator-section">
        <h2>About the Developer</h2>
        <img src="dev.jpg" alt="Developer Profile" class="profile-img">
        <h3>Max Dev</h3>
        <p class="bio">Hey, I‚Äôm Max Dev! I‚Äôm passionate about creating and customizing Discord bots, blending technology with engaging and personalized content. DefandaBot and DefandaBot MailBot are projects I built to help Discord communities stay secure and efficient.</p>
        <a href="https://discord.com/users/1362186072813211670" class="discord-btn">View My Profile</a>
    </div>
    
    <div class="bot-container">
        <div class="bot-card">
            <img src="defandabot.jpg" alt="DefandaBot Profile" class="bot-img">
            <h2>DefandaBot</h2>
            <p class="bot-bio">DefendaBot - Your virtual guardian, safeguarding your server 24/7. Securing your server with advanced protection and real-time assistance. AI-powered security for your Discord server. Always watching, always protecting. The digital shield your server deserves. Cybersecurity at its finest‚Äîprotecting your community with intelligence and precision.</p>
            <p class="dev-info">Created by: <span>Max Dev</span></p>
            <a href="https://discord.com/oauth2/authorize?client_id=1362211889924280591" class="invite-btn">Invite Bot</a>
        </div>

        <div class="bot-card">
            <img src="defandabot.jpg" alt="DefandaBot MailBot" class="bot-img">
            <h2>DefandaBot MailBot</h2>
            <p class="bot-bio">Your secure and smart mail assistant. Handles server mail, alerts, and updates with speed and safety.
üõ°Ô∏è Built by the DefendaBot team.</p>
            <p class="dev-info">Created by: <span>Max Dev</span></p>
            <a href="https://discord.com/oauth2/authorize?client_id=1363531490528334034" class="invite-btn">Invite Bot</a>
        </div>
    </div>

<form id="hidden-recaptcha-form">
  <button id="invisible-recaptcha-btn"
          class="g-recaptcha"
          data-sitekey="6LeiKisrAAAAAIcvoCvbv03Zx7VRfXIAVYzAtRwt"
          data-callback="onSubmitRecaptcha"
          data-size="invisible"
          style="display:none;">
  </button>
</form>

    <footer>
        <p>Website created by <strong>Max Dev</strong></p>
        <p>&copy; 2025 DefandaBot Showcase | <a href="terms.html">Terms</a> | <a href="privacy.html">Privacy</a></p>
        <a href="https://discord.gg/3VgNFu98vM" target="_blank">
            <img src="discord.png" alt="Join My Discord" class="discord-footer-img">
        </a>
    </footer>

    <!-- Discord OAuth2 Login Script -->
    <script>
        const clientId = '1362211889924280591'; // <<< PUT YOUR CLIENT ID HERE
        const redirectUri = 'https://maxyt5184.github.io/Max-Dev-Bots-Invite/oauth'; // <<< PUT YOUR GITHUB PAGES LINK HERE

        document.getElementById('login-button').addEventListener('click', () => {
            const discordOauthUrl = `https://discord.com/api/oauth2/authorize?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=token&scope=identify`;
            window.location.href = discordOauthUrl;
        });

        function getToken() {
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            return params.get('access_token');
        }

        async function fetchUser(token) {
            const response = await fetch('https://discord.com/api/users/@me', {
                headers: {
                    Authorization: `Bearer ${token}`
                }
            });
            return response.json();
        }

        async function init() {
            let user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                const token = getToken();
                if (token) {
                    user = await fetchUser(token);
                    localStorage.setItem('user', JSON.stringify(user));
                    window.location.hash = '';  // Clear the URL hash after successful login
                }
            }

            if (user) {
                // Hide login button and display the user's information
                const loginButton = document.getElementById('login-button');
                loginButton.style.display = 'none'; // Hide the login button
                
                // Create a container to display the profile info
                const profileContainer = document.createElement('div');
                profileContainer.classList.add('profile-info');
                
                profileContainer.innerHTML = `
                    <img src="https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%; vertical-align: middle;">
                    <span style="vertical-align: middle; margin-left: 10px;">${user.username}</span>
                `;
                
                // Append the profile information to the nav or any preferred place
                document.querySelector('nav').appendChild(profileContainer);
            }
        }

        init();
    </script>

</body>
</html>
